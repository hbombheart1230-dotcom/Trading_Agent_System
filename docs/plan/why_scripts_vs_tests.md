# 왜 테스트와 Script를 병행하는가?

생성일: 2026-02-12T07:42:34.960893Z

---

## 1. pytest의 역할

pytest는 다음을 검증한다:

- Executor 인터페이스
- Supervisor 승인 로직
- Guard 동작
- Intent 상태 전이
- DTO 매핑 정확성

즉, '코드 구조와 연결 안정성'을 보장한다.

---

## 2. Script 실행의 역할

실 API는 다음 특성을 가진다:

- 필수 파라미터 런타임 검증
- 서버별 정책 차이
- API ID 헤더 요구
- 요청 제한 (429)
- 거래소/시세 조건 의존

이것은 Mock으로 완벽히 재현 불가하다.

따라서:

pytest = 내부 안정성 보장
script = 외부 스펙 검증

이 둘을 병행해야 실전 안정성이 확보된다.

---

## 3. 실전 전환 체크리스트

- mock → real 전환 전 script 검증
- 승인/거절 로직 재확인
- SYMBOL_ALLOWLIST 설정
- 로그 확인

---

이 원칙은 이후 모든 API 확장 시 동일하게 적용한다.
