# ================================
# Trading Agent System - Example .env
# ================================

# Mode: mock | real
KIWOOM_MODE=mock

# Runtime profile: dev | staging | prod
# RUNTIME_PROFILE=dev
# M28_PROFILE_STRICT=false

# Execution control
EXECUTION_ENABLED=false

# Approval mode
# manual  : always require explicit approval
# auto    : automatically approve intents (still logged)
APPROVAL_MODE=manual

# ==================================
# Safety Guards
# ==================================

# If KIWOOM_MODE=real AND EXECUTION_ENABLED=true,
# system will refuse execution unless ALLOW_REAL_EXECUTION=true
ALLOW_REAL_EXECUTION=false

# Optional symbol allowlist (comma-separated).
# Example:
# SYMBOL_ALLOWLIST=005930,000660,035420
#
# If empty or not set, allowlist check is DISABLED.
SYMBOL_ALLOWLIST=

# Maximum quantity per order (0 or empty = disabled)
MAX_ORDER_QTY=0

# Maximum notional per order (KRW). 0 or empty = disabled
MAX_ORDER_NOTIONAL=0

# ==================================
# Generated at: 2026-02-12T07:11:38Z
# ==================================
# OpenRouter
# OPENROUTER_API_KEY=sk-or-...

# 기본 모델
# OPENROUTER_DEFAULT_MODEL=openai/gpt-4o-mini
# OPENROUTER_DEFAULT_TEMPERATURE=0.2
# OPENROUTER_DEFAULT_MAX_TOKENS=256

# 역할별 모델 분리(예시)
# OPENROUTER_MODEL_STRATEGIST=anthropic/claude-3.5-sonnet
# OPENROUTER_MODEL_SCANNER=openai/gpt-4o-mini
# OPENROUTER_MODEL_REPORTER=google/gemini-1.5-pro

# 옵션(권장)
# OPENROUTER_HTTP_REFERER=https://your-domain-or-repo
# OPENROUTER_X_TITLE=Trading_Agent_System

# --- Strategist Provider (M20) ---
# AI_STRATEGIST_PROVIDER=openai
# AI_STRATEGIST_API_KEY=...
# AI_STRATEGIST_ENDPOINT=https://openrouter.ai/api/v1/chat/completions
# AI_STRATEGIST_MODEL=anthropic/claude-3.5-sonnet
# AI_STRATEGIST_TIMEOUT_SEC=15
# AI_STRATEGIST_MAX_TOKENS=256
# AI_STRATEGIST_RETRY_MAX=1
# AI_STRATEGIST_RETRY_BACKOFF_SEC=0.5
# AI_STRATEGIST_PROMPT_VERSION=m20-6
# AI_STRATEGIST_SCHEMA_VERSION=intent.v1
# AI_STRATEGIST_PROMPT_COST_PER_1K_USD=0
# AI_STRATEGIST_COMPLETION_COST_PER_1K_USD=0

# --- News Provider (M19) ---
# NAVER_CLIENT_ID=your_naver_client_id
# NAVER_CLIENT_SECRET=your_naver_client_secret

# --- Alert Policy (M25) ---
# Fail mode for alert gate default: critical | warning | none
# ALERT_POLICY_FAIL_ON=critical
#
# strategist_llm.success_rate minimum
# ALERT_POLICY_LLM_SUCCESS_RATE_MIN=0.70
#
# strategist_llm.circuit_open_rate maximum
# ALERT_POLICY_LLM_CIRCUIT_OPEN_RATE_MAX=0.30
#
# execution blocked rate maximum (blocked / created)
# ALERT_POLICY_EXECUTION_BLOCKED_RATE_MAX=0.60
#
# approved-executed gap maximum
# ALERT_POLICY_EXECUTION_APPROVED_EXECUTED_GAP_MAX=0
#
# broker_api.api_429_rate maximum
# ALERT_POLICY_API_429_RATE_MAX=0.20
#
# portfolio_guard blocked ratio maximum (blocked_total_sum / (approved_total_sum + blocked_total_sum))
# ALERT_POLICY_PORTFOLIO_GUARD_BLOCKED_RATIO_MAX=0.70
#
# portfolio_guard strategy_budget_exceeded total maximum (daily)
# ALERT_POLICY_PORTFOLIO_GUARD_STRATEGY_BUDGET_EXCEEDED_MAX=20

# --- M25 Ops Batch Hook ---
# M25_BATCH_EVENT_LOG_PATH=data/logs/m25_ops_batch_events.jsonl
# M25_BATCH_REPORT_DIR=reports/m25_ops_batch
# M25_BATCH_LOCK_PATH=data/state/m25_ops_batch.lock
# M25_BATCH_LOCK_STALE_SEC=1800
# M25_BATCH_STATUS_JSON_PATH=reports/m25_ops_batch/status_latest.json
# M25_NOTIFY_EVENT_LOG_PATH=data/logs/m25_notify_events.jsonl

# --- M25 Notification Channel ---
# M25_NOTIFY_PROVIDER=none          # none | webhook | slack_webhook
# M25_NOTIFY_ON=failure             # always | failure | success
# M25_NOTIFY_WEBHOOK_URL=
# M25_NOTIFY_PORTFOLIO_GUARD_ESCALATION_MIN=0
# M25_NOTIFY_PORTFOLIO_GUARD_PROVIDER=none
# M25_NOTIFY_PORTFOLIO_GUARD_WEBHOOK_URL=
# M25_NOTIFY_TIMEOUT_SEC=5
# M25_NOTIFY_STATE_PATH=data/state/m25_notify_state.json
# M25_NOTIFY_DEDUP_WINDOW_SEC=600
# M25_NOTIFY_RATE_LIMIT_WINDOW_SEC=600
# M25_NOTIFY_MAX_PER_WINDOW=3
# M25_NOTIFY_RETRY_MAX=1
# M25_NOTIFY_RETRY_BACKOFF_SEC=0.5
# M25_NOTIFY_DRY_RUN=false
# M25_NOTIFY_FAIL_ON_ERROR=false
